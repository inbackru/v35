{% extends "base.html" %}

{% block title %}Застройщики партнёры - Кэшбек за новостройки | InBack{% endblock %}
{% block description %}Официальные застройщики-партнеры InBack в Краснодаре. Получите кэшбек до 10% при покупке квартиры в новостройках от проверенных компаний. Бесплатная юридическая проверка сделки.{% endblock %}
{% block keywords %}застройщики Краснодар, новостройки партнеры, кэшбек застройщики, жилые комплексы Краснодар, ипотека новостройки{% endblock %}

{% block head %}
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "RealEstateAgent",
      "name": "Inback",
      "image": "https://inback.ru/logo.jpg",
      "description": "Официальный сервис возврата кэшбека при покупке недвижимости в Краснодаре и других городах России",
      "priceRange": "$",
      "areaServed": {
        "@type": "AdministrativeArea",
        "name": "Краснодар и Краснодарский край"
      },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "ул. Красная, 32",
        "addressLocality": "Краснодар",
        "addressRegion": "Краснодарский край" 
      },
      "telephone": "+78001231212",
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday"
        ],
        "opens": "09:00",
        "closes": "19:00"
      }
    }
    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        ton: {
                            blue: '#0088cc',
                            dark: '#222426',
                            light: '#f5f5f5',
                            accent: '#00a3e0',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
{% endblock %}

{% block breadcrumbs %}
<div class="container mx-auto px-4 py-3 text-sm">
<nav aria-label="Breadcrumb" class="flex">
<ol class="inline-flex items-center space-x-1 md:space-x-3">
<li class="inline-flex items-center">
<a class="text-[#0088CC] hover:underline inline-flex items-center" href="{{ url_for('index') }}">
<svg class="w-4 h-4 mr-2" fill="currentColor" viewbox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg>
                        Главная
                    </a>
</li>
<li aria-current="page">
<div class="flex items-center">
<svg class="w-6 h-6 text-gray-400" fill="currentColor" viewbox="0 0 20 20"><path clip-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" fill-rule="evenodd"></path></svg>
<span class="text-gray-500 ml-1 md:ml-2">Застройщики</span>
</div>
</li>
</ol>
</nav>
</div>
{% endblock %}

{% block content %}
<section class="hero-gradient py-16 md:py-24">
<div class="container mx-auto px-4">
<div class="max-w-4xl mx-auto text-center">
<h1 class="text-4xl md:text-5xl font-bold mb-6">Застройщики-партнёры</h1>
<p class="text-xl text-gray-600 mb-8">Мы работаем только с проверенными застройщиками Краснодара. Получите кэшбек до 10% при покупке квартиры в их новостройках</p>
<div class="flex flex-col sm:flex-row justify-center gap-4">
<a class="px-6 py-3 bg-ton-blue text-white rounded-md hover:bg-opacity-90 transition-all font-medium" href="#developers">Смотреть застройщиков</a>
<a class="px-6 py-3 bg-white text-ton-blue border border-ton-blue rounded-md hover:bg-ton-blue hover:bg-opacity-10 transition-all font-medium" href="#calculator">Рассчитать кэшбек</a>
</div>
</div>
</div>
</section>

<!-- Stats Section -->
<section class="py-16 bg-white">
<div class="container mx-auto px-4">
<div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-8">
<div class="text-center">
<div class="text-4xl font-bold text-ton-blue mb-2">15+</div>
<div class="text-gray-600">Застройщиков-партнёров</div>
</div>
<div class="text-center">
<div class="text-4xl font-bold text-ton-blue mb-2">150+</div>
<div class="text-gray-600">Жилых комплексов</div>
</div>
<div class="text-center">
<div class="text-4xl font-bold text-ton-blue mb-2">5000+</div>
<div class="text-gray-600">Довольных клиентов</div>
</div>
<div class="text-center">
<div class="text-4xl font-bold text-ton-blue mb-2">500 000 ₽</div>
<div class="text-gray-600">Максимальный кэшбек</div>
</div>
</div>
</div>
</section>

<!-- Developers Grid -->
<section id="developers" class="py-16 bg-gray-50">
<div class="container mx-auto px-4">
<div class="text-center max-w-3xl mx-auto mb-12">
<h2 class="text-3xl md:text-4xl font-bold mb-4">Наши партнёры</h2>
<p class="text-lg text-gray-600">Застройщики, с которыми мы официально сотрудничаем и можем гарантировать получение кэшбека</p>
</div>

<div class="developers-grid grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
{% for developer in developers %}
<!-- Developer Card -->
<a href="/developer/{{ developer.name|developer_slug }}" class="block">
<div class="developer-card bg-white rounded-lg shadow-md hover:shadow-lg border border-gray-200 transition-all duration-200 group cursor-pointer p-5">
<div class="flex items-center mb-4">
<div class="relative w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center mr-4 flex-shrink-0">
<span class="text-white font-bold text-xs">
{{ developer.name[:3] if developer.name|length > 10 else developer.name[:2] }}
</span>
</div>
<div>
<h3 class="text-xl font-bold">{{ developer.name }}</h3>
<p class="text-gray-600 text-sm">Застройщик</p>
</div>
</div>
<div class="flex-1">
<div class="flex items-center text-sm text-gray-600 mb-2">
<i class="fas fa-building mr-2 text-ton-blue"></i>
<span>{{ developer.complexes_count }} {% if developer.complexes_count == 1 %}жилой комплекс{% elif developer.complexes_count in [2,3,4] %}жилых комплекса{% else %}жилых комплексов{% endif %}</span>
</div>
<div class="flex items-center text-sm text-gray-600 mb-2">
<i class="fas fa-home mr-2 text-ton-blue"></i>
<span>{{ developer.properties_count }} {% if developer.properties_count == 1 %}квартира{% elif developer.properties_count in [2,3,4] %}квартиры{% else %}квартир{% endif %}</span>
</div>
{% if developer.stats and developer.stats.min_price and developer.stats.min_price > 0 %}
<div class="flex items-center text-sm text-gray-600 mb-2">
<i class="fas fa-ruble-sign mr-2 text-ton-blue"></i>
<span>От {{ (developer.stats.min_price / 1000000)|round(1) }} млн ₽</span>
</div>
{% endif %}
{% if developer.phone %}
<div class="mt-auto pt-4 border-t border-gray-100">
<div class="flex items-center justify-center">
<a href="tel:{{ developer.phone }}" class="flex items-center text-sm text-[#0088CC] hover:text-[#006699] transition-colors">
<i class="fas fa-phone mr-2"></i>
<span>{{ developer.phone }}</span>
</a>
</div>
</div>
{% endif %}
</div>
<!-- Button removed - whole card is clickable now -->
</div>
</a>
{% endfor %}


<!-- Load More Button (если понадобится в будущем) -->
{% if false %}
<div class="text-center mt-12">
<button class="px-8 py-3 bg-white text-ton-blue border border-ton-blue rounded-lg hover:bg-ton-blue hover:text-white transition-colors">
Показать всех застройщиков
</button>
</div>
{% endif %}
</div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-ton-blue text-white">
<div class="container mx-auto px-4">
<div class="max-w-4xl mx-auto text-center">
<h2 class="text-3xl md:text-4xl font-bold mb-4">Готовы получить кэшбек?</h2>
<p class="text-xl mb-8 opacity-90">Оставьте заявку, и мы поможем выбрать лучшее предложение от наших партнёров</p>
<div class="flex flex-col sm:flex-row justify-center gap-4">
<button onclick="openApplicationModal()" class="px-8 py-3 bg-white text-ton-blue rounded-lg hover:bg-opacity-90 transition-colors font-medium">
Оставить заявку
</button>
<a href="tel:88001231212" class="px-8 py-3 border border-white text-white rounded-lg hover:bg-white hover:text-ton-blue transition-colors font-medium">
Позвонить сейчас
</a>
</div>
</div>
</div>
</section>

<style>
/* Простое и четкое выравнивание карточек */
.developers-grid {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 1.5rem !important;
    grid-auto-rows: minmax(320px, auto) !important;
}

@media (max-width: 1024px) {
    .developers-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (max-width: 640px) {
    .developers-grid {
        grid-template-columns: 1fr !important;
    }
}

.developer-card {
    height: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
}
</style>

{% endblock %}