# üîß –ü–û–õ–ù–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ INBACK.RU
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞:** 12 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π

## üìä –°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´ –ù–ê –ú–û–ú–ï–ù–¢ –ë–≠–ö–ê–ü–ê

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´
1. **–û—à–∏–±–∫–∞ 500 –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è—Ö** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å app_context
2. **"–û–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –≤ API
3. **InstrumentedList –æ—à–∏–±–∫–∞** - —É–±—Ä–∞–Ω–∞ –ª–∏—à–Ω—è—è `.all()` –Ω–∞ relationships
4. **CSRF —É—è–∑–≤–∏–º–æ—Å—Ç—å** - –∑–∞–∫—Ä—ã—Ç–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•
- **excel_properties:** 354 –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- **users:** 9 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **managers:** 4 –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- **presentation_views:** 30 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- **collections:** 2 –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
- **collection_properties:** 3 –æ–±—ä–µ–∫—Ç–∞ –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è—Ö

## üöÄ –ë–´–°–¢–†–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï (5 –º–∏–Ω—É—Ç)

### 1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cp -r backup_2025_09_12/code/* ./
```

### 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –ø–æ–ª–Ω–æ–≥–æ –¥–∞–º–ø–∞
psql $DATABASE_URL < backup_2025_09_12/database/full_backup_2025_09_12.sql
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—É–∂–µ –≤ requirements.txt)
pip install -r requirements.txt

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ)
echo $DATABASE_URL
echo $SESSION_SECRET
```

### 4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Gunicorn
gunicorn --bind 0.0.0.0:5000 --reuse-port --reload main:app
```

## üîç –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–û–°–¢–ò

### –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:** http://localhost:5000/presentation/ypr0v.7687840290
2. **–ö–∞—Ç–∞–ª–æ–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:** http://localhost:5000/properties (354 –æ–±—ä–µ–∫—Ç–∞)
3. **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–Ω–µ–ª—å:** http://localhost:5000/manager/dashboard
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤:** API /api/manager/presentation/*/add-property

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚úÖ HTTP 200 –Ω–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚úÖ 354 –æ–±—ä–µ–∫—Ç–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- ‚úÖ 2 –æ–±—ä–µ–∫—Ç–∞ –≤ —Ç–µ—Å—Ç–æ–≤–æ–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ (ID: 1999611557, 1999611558)
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç

## üõ†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –§–ê–ô–õ–´

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `app.py` (15,880 —Å—Ç—Ä–æ–∫) - –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask
- `models.py` - –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLAlchemy  
- `templates/` - –≤—Å–µ HTML —à–∞–±–ª–æ–Ω—ã (67 —Ñ–∞–π–ª–æ–≤)
- `static/` - CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `attached_assets/` - Excel —Ñ–∞–π–ª—ã —Å –¥–∞–Ω–Ω—ã–º–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- `full_backup_2025_09_12.sql` - –ø–æ–ª–Ω—ã–π –¥–∞–º–ø PostgreSQL

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏:
1. **CSRF –∑–∞—â–∏—Ç–∞** - –≤—Å–µ API endpoints –∑–∞—â–∏—â–µ–Ω—ã
2. **Flask app context** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
DATABASE_URL=postgresql://...
SESSION_SECRET=...
PGHOST=...
PGPORT=...
PGUSER=...
PGPASSWORD=...
PGDATABASE=...
```

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Gunicorn
2. –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ DATABASE_URL
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å PostgreSQL
4. –í—ã–ø–æ–ª–Ω–∏—Ç—å `python -c "from app import load_properties; print(len(load_properties()))"`

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:** `354` –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω–æ.